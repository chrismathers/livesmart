<html>
<head>
  <meta charset="utf-8">
  <title>Angular.js JSON Fetching Example</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
  <script src="http://rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.min.js"></script>

  <script>
      var busStopApp = angular.module('busStopApp', ['ngMap']);
  </script>

  <style>
    .flexbox {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      max-width: 80%;
    }
  </style>
</head>
<body ng-app="busStopApp">
  <div map-lazy-load="https://maps.google.com/maps/api/js?key=AIzaSyAY04OqN1R8sBO0WXbrAu_GHGxasr3MiUY">
    <ng-map center="50.81112,-0.08743" zoom="16" style="width: 50%; height: 50%"></ng-map>
    <div ng-controller="MapController"></div>
  </div>

  <div class="flexbox">
    <table ng-controller="BusStopController as busstops">
      <tr>
        <th>Name</th>
        <th>Longitude</th>
        <th>Latitude</th>
      </tr>
      <tr ng-repeat="stop in busstops.busStopList">
        <td>{{stop.stop_name}}</td>
        <td>{{stop.longitude}}</td>
        <td>{{stop.latitude}}</td>
      </tr>
    </table>

    <table ng-controller="BusDeparturesController as busdepartures">
      <tr>
        <th>Name</th>
        <th>Longitude</th>
        <th>Latitude</th>
      </tr>
      <tr ng-repeat="departures in busdepartures.busDeparturesList['135']">
        <td>{{departures.line}}</td>
        <td>{{departures.direction}}</td>
        <td>{{departures.best_departure_estimate}}</td>
      </tr>
    </table>
  </div>

  <script src="services/busStopsService.js"></script>
  <script src="services/busDeparturesService.js"></script>
  <script src="busstops/busStopController.js"></script>
  <script src="busdepartures/busDeparturesController.js"></script>
  <script src="components/mapController.js"></script>
  <!--<script src="scripts/ng-map.min.js"></script>-->

</body>
</html>